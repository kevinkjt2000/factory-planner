package components

type Recipe struct {
	Id string
	RecipeTypeId string
}

templ RecipeSearch(types []string) {
	<div hx-include="find input">
		<div>
			recipe types
			<datalist id="recipe_types">
				for _, t := range types {
					<option>{t}</option>
				}
			</datalist>
			<input list="recipe_types"/>
		</div>
		<div>
			<input autocomplete="off" type="text" hx-get="/search" hx-target="#search-results" hx-trigger="keyup changed delay:500ms" placeholder="Type here to search recipes..." name="item"/>
			<div id="search-results"></div>
		</div>
	</div>
}

templ SearchResults(recipes []Recipe) {
	<ul>
		for _, r := range recipes {
			<li>{r.RecipeTypeId} {r.Id}</li>
		}
	</ul>
}

templ Page(types []string) {
	@RecipeSearch(types)
}

templ Layout(contents templ.Component) {
	<script src="https://unpkg.com/htmx.org@1.9.12" integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2" crossorigin="anonymous"></script>
	@contents
	@LiveReload()
}
